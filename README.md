# RentHouse - 부동산 임대 관리 시스템

RentHouse는 부동산 임대 관리를 위한 웹 애플리케이션입니다. 임대인, 임차인, 관리자 등 다양한 사용자가 시스템을 통해 부동산, 유닛, 임대 계약, 결제 등을 효율적으로 관리할 수 있습니다.

[![IMAGE ALT TEXT HERE](https://img.youtube.com/vi/jcXF12t93vw/0.jpg)](https://www.youtube.com/watch?v=jcXF12t93vw)


## 주요 기능

- **회원 관리:** 사용자 등록, 로그인, 정보 수정, 회원 등급(관리자, 임대인, 임차인) 관리
- **부동산 관리:** 부동산 정보(주소, 유형, 층수 등) 등록, 수정, 삭제 및 유닛(세대) 관리
- **임대 관리:** 임대 계약 등록, 수정, 삭제 및 계약 상태 관리
- **청구 및 결제 관리:** 임대료 청구서(Billing) 및 청구 항목(Bill) 생성, 관리, 결제 내역 관리
- **관리자 대시보드:** 시스템의 핵심 현황을 시각적으로 모니터링

## 최근 업데이트 내용 (2025-09-02)

- **청구 자동화 및 미납 알림 기능 구현:**
    - 매월 1일, 모든 활성 계약에 대한 청구서가 자동으로 생성됩니다.
    - 매일, 납부 기한이 지난 미납 청구 건을 확인하여 활동 로그에 기록하는 스케줄러 기능을 추가했습니다.
- **테스트 커버리지 강화:**
    - `PropertyService`와 `TenantService`에 대한 단위 테스트를 추가하여 코드의 안정성을 향상시켰습니다.
- **보안 강화:**
    - 관리자 대시보드에 대한 접근 제어를 활성화하여, `ADMIN` 및 `LANDLORD` 역할을 가진 사용자만 접근할 수 있도록 보안을 강화했습니다.


## 최근 업데이트 내용 (2025-08-22)

- **월별 수익 보고서 PDF 생성 기능 추가:**
    - 관리자 대시보드에서 월별 수익 현황을 PDF 파일로 다운로드할 수 있는 기능을 추가했습니다.
    - PDF 생성을 위해 iText 라이브러리를 도입했습니다.
- **세입자 현황 보고서 PDF 생성 기능 추가:**
    - 세입자 정보, 임대 계약 상태, 부동산 및 유닛 정보를 포함하는 보고서입니다.
    - 활성 임대 계약이 있는 세입자만 포함됩니다.

- **임대 계약 등록 편의성 개선:**
    - 임대 계약 등록 시, 이미 계약된 유닛(세대)은 선택 목록에서 제외하여 표시하도록 개선했습니다。
    - 계약 시작일을 선택하면, 종료일이 자동으로 2년 뒤로 설정되도록 기능을 추가하여 입력 편의성을 높였습니다.

## 최근 업데이트 내용 (2025-08-14)

- **홈 화면 개편 및 역할 기반 UI 구현:**
    - **동적 홈 화면:** 사용자의 로그인 상태에 따라 홈 화면의 내용이 다르게 표시됩니다.
        - **로그인하지 않은 경우:** 서비스 소개와 함께 로그인 및 회원가입 버튼이 표시됩니다.
        - **로그인한 경우(`ADMIN`, `LANDLORD`):** 사용자 환영 메시지와 함께 대시보드, 부동산 관리 등 주요 기능으로 바로 이동할 수 있는 메뉴가 제공됩니다.
    - **대시보드 접근 제어 준비:** 관리자 및 임대인(`ADMIN`, `LANDLORD`)만 대시보드에 접근하도록 보안 설정을 추가할 수 있도록 코드를 미리 반영했습니다. (현재는 주석 처리되어 비활성화 상태)

- **아키텍처 및 코드 품질 개선:**
    - 서비스 인터페이스(`*Service.java`)는 최상위 `renthouse/service/` 패키지에, 구현체(`*ServiceImpl.java`)는 모듈별 `renthouse/module/{모듈명}/service/` 패키지에 위치하도록 패키지 구조를 재정비했습니다.
    - `ActivityLog` 관련 런타임 오류 및 `BillingService` 메소드 호출/임포트 경로 오류 등 컴파일 및 런타임 오류를 수정했습니다.
- **관리자 대시보드 기능 추가:**
    - 관리자가 시스템의 주요 지표를 한눈에 파악할 수 있는 대시보드 화면 (`/admin/dashboard`)을 추가했습니다.
    - **주요 통계 위젯 구현:**
        - **총 부동산/세대 수:** 관리 중인 전체 부동산과 세대(유닛)의 수를 표시합니다.
        - **공실률:** 전체 세대 대비 임대 계약이 없는 세대의 비율과 수를 계산하여 표시합니다.
        - **연체된 임대료:** 납부 기한이 지나고 미납 상태인 청구 건의 총액과 건수를 표시합니다.
        - **계약 만료 예정:** 30일 이내에 계약이 만료되는 활성 임대 계약의 수를 표시합니다.
        - **월별 수입 현황:** 지난 6개월간의 월별 수입을 차트로 표시합니다.
    - **최신 활동 피드:** 시스템에서 발생한 최신 활동 내역을 표시합니다.
    - **대시보드 메뉴 링크:** 사이드바에 관리자 대시보드로 바로 이동할 수 있는 메뉴 링크를 추가했습니다.
    - **빠른 실행 버튼:** 대시보드에 자주 사용하는 기능으로 바로 이동할 수 있는 버튼들을 추가했습니다.

## 최근 업데이트 내용 (2025-08-13)

- **청구 항목 관리 기능 개선:**
    - `billList.ftl`에서 청구 항목 삭제 버튼 제거.
    - 청구 항목 수정/업데이트/삭제 기능 구현.

## 최근 업데이트 내용 (2025-08-12)

- **청구 기능 추가:**
    - 청구서 생성 및 관리 기능이 추가되었습니다.
- **임대 관리 기능 강화:**
    - 임대차 계약 목록 (`lease/leaseList.ftl`)에서 상세 보기, 수정, 삭제 기능 구현.
- **코드 정리:**
    - 사용하지 않는 `admin/adminHome.ftl` 및 `admin/applyList.ftl` 파일 삭제.

## 기술 스택

- **Backend:** Java, Spring Boot, Spring Security
- **Frontend:** HTML, CSS, JavaScript, Bootstrap, FreeMarker, SB Admin 2
- **Database:** H2 (개발용), PostgreSQL 또는 MySQL (운영용 권장)
- **Build Tool:** Maven

## 시작하기

### 요구 사항

- Java 17 또는 그 이상
- Maven 3.2 또는 그 이상

### 실행 방법

1.  **저장소 복제:**
    ```bash
    git clone https://github.com/your-username/renthouse.git
    cd renthouse
    ```

2.  **애플리케이션 빌드:**
    ```bash
    ./mvnw clean install
    ```

3.  **애플리케이션 실행:**
    ```bash
    java -jar target/renthouse-0.0.1-SNAPSHOT.jar
    ```
    또는 Maven 플러그인을 사용하여 실행할 수 있습니다:
    ```bash
    ./mvnw spring-boot:run
    ```

4.  **애플리케이션 접속:**
    웹 브라우저에서 `http://localhost:8080`으로 접속합니다.

### 테스트

아래 Maven 명령어를 사용하여 전체 테스트를 실행할 수 있습니다.

```shell
./mvnw test
```

테스트 환경은 H2 인메모리 데이터베이스를 사용하도록 설정되어 있으므로, 별도의 데이터베이스 설정이 필요하지 않습니다.

## 라이선스

이 프로젝트는 [MIT 라이선스](LICENSE)에 따라 배포됩니다.
