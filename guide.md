# RentHouse 프로젝트 가이드

이 문서는 RentHouse 프로젝트의 주요 화면과 기능에 대한 설명을 제공합니다.

## 1. 부동산 목록 (Property List) 화면 설명

이 화면은 시스템에 등록된 모든 부동산 목록을 보여주고, 각 부동산의 상세 정보를 확인하거나 신규 부동산을 등록할 수 있는 시작점 역할을 합니다.

### 1.1. 주요 기능 및 사용자 경험

*   **부동산 목록 표시:** 각 부동산의 이름, 주소, 유형 등 핵심 정보가 테이블 형태로 표시됩니다.
*   **데이터 테이블 기능:** `DataTables` 라이브러리가 적용되어 있어, 목록 검색, 정렬, 페이지네이션 등의 기능을 기본적으로 제공합니다.
*   **신규 부동산 등록:** 테이블 하단의 '부동산 등록' 버튼을 클릭하여 새로운 부동산 정보를 등록하는 페이지로 이동할 수 있습니다.
*   **상세 정보 조회:** 각 부동산 행의 '상세 보기' 버튼을 클릭하면, 해당 부동산의 상세 정보를 보여주는 페이지로 이동합니다.

### 1.2. 기술적 구현 (간략히)

*   **백엔드 (Java Spring Boot):**
    *   `PropertyController`의 `listProperties()` 메소드가 모든 부동산 목록 데이터를 조회하여 `property/propertyList.ftl` 템플릿으로 전달합니다.
*   **프론트엔드 (FreeMarker, HTML, CSS, JavaScript):**
    *   `property/propertyList.ftl` 템플릿은 `common/layout.ftl`을 포함하여 전체적인 레이아웃을 구성합니다.
    *   테이블은 FreeMarker의 반복문(`<#list>`)을 사용하여 `properties` 모델 데이터를 기반으로 동적으로 생성됩니다.
    *   '상세 보기' 버튼은 `/property/property/detail/{id}` 형태의 URL로, '부동산 등록' 버튼은 `/property/register` URL로 연결됩니다.

### 1.3. 사용자 흐름

1.  사용자가 로그인 후 사이드바 메뉴에서 "Property" 또는 관련 메뉴를 클릭합니다.
2.  `PropertyController`의 `listProperties()` 메소드가 호출되어 모든 부동산 목록을 가져옵니다.
3.  `property/propertyList.ftl` 페이지가 렌더링되어 부동산 목록 테이블을 표시합니다.
4.  사용자가 신규 부동산을 등록하려면 '부동산 등록' 버튼을 클릭하여 등록 페이지로 이동합니다.
5.  사용자가 특정 부동산의 상세 정보를 보기 위해 '상세 보기' 버튼을 클릭합니다.
6.  브라우저는 해당 부동산의 ID가 포함된 URL(`/property/property/detail/{id}`)로 이동하여 상세 정보 페이지를 요청합니다.

## 2. 세입자 목록 (Tenants List) 화면 설명

이 화면은 시스템에 등록된 모든 세입자의 목록을 관리자가 한눈에 확인하고, 각 세입자의 상세 정보를 조회하거나 수정, 신규 등록할 수 있도록 제공하는 관리자 페이지입니다.

### 2.1. 주요 기능 및 사용자 경험

*   **세입자 목록 표시:** 세입자의 ID, 이름, 전화번호, 이메일, 주민등록번호, 현재 주소 등의 핵심 정보가 테이블 형태로 표시됩니다.
*   **데이터 테이블 기능:** `DataTables` 라이브러리가 적용되어 있어, 목록 검색, 정렬, 페이지네이션 등의 기능을 기본적으로 제공합니다.
*   **신규 세입자 등록:** 테이블 하단의 '세입자 등록' 버튼을 클릭하여 신규 세입자 등록 페이지로 이동할 수 있습니다.
*   **상세 정보 조회 및 수정 모달:** 각 세입자 행을 클릭하거나 "상세" 버튼을 클릭하면, 해당 세입자의 상세 정보를 보여주고 수정할 수 있는 모달 창이 나타납니다. 이 모달에서 정보를 변경하고 "변경 사항 저장" 버튼을 누르면 데이터가 업데이트됩니다.

### 2.2. 기술적 구현 (간략히)

*   **백엔드 (Java Spring Boot):**
    *   `TenantController`의 `getAllTenants()` 메서드가 세입자 목록 데이터를 조회하여 `admin/tenantsList.ftl` 템플릿으로 전달합니다.
    *   `TenantController`는 또한 세입자 상세 정보 조회(`GET /admin/tenants/{id}`), 생성(`POST /admin/tenants`), 수정(`PUT /admin/tenants/{id}`), 삭제(`DELETE /admin/tenants/{id}`)를 위한 RESTful API 엔드포인트를 제공합니다.
    *   `EntityConverter`를 사용하여 `Tenant` 엔티티와 `TenantDto` 간의 데이터 변환을 처리하여 코드의 재사용성과 유지보수성을 높였습니다.
*   **프론트엔드 (FreeMarker, HTML, CSS, JavaScript):**
    *   `tenant/tenantsList.ftl` 템플릿은 `common/layout.ftl`을 포함하여 전체적인 레이아웃을 구성합니다.
    *   테이블은 FreeMarker의 반복문(`list`)을 사용하여 `tenants` 모델 데이터를 기반으로 동적으로 생성됩니다.
    *   JavaScript (jQuery 및 Fetch API)를 사용하여 세입자 상세 정보 모달을 제어하고, 모달 내에서 세입자 정보를 조회하거나 수정할 때 백엔드 API와 비동기적으로 통신합니다.

### 2.3. 사용자 흐름

1.  관리자가 로그인 후 사이드바 메뉴에서 "Tenants"를 클릭합니다.
2.  `TenantController`의 `getAllTenants()` 메서드가 호출되어 세입자 목록을 가져옵니다.
3.  `admin/tenantsList.ftl` 페이지가 렌더링되어 세입자 목록 테이블을 표시합니다.
4.  관리자가 신규 세입자를 등록하려면 '세입자 등록' 버튼을 클릭합니다.
5.  관리자가 특정 세입자의 정보를 확인하거나 수정하기 위해 해당 테이블 행 또는 "상세" 버튼을 클릭합니다.
6.  JavaScript 코드가 실행되어 해당 세입자의 ID를 기반으로 `GET /admin/tenants/{id}` API를 호출하여 상세 정보를 가져옵니다.
7.  가져온 상세 정보가 모달 창에 채워지고 모달이 표시됩니다.
8.  관리자가 정보를 수정한 후 "변경 사항 저장" 버튼을 클릭하면, JavaScript 코드가 `PUT /admin/tenants/{id}` API를 호출하여 변경된 데이터를 백엔드로 전송하고, 성공 시 페이지를 새로고침하여 업데이트된 목록을 보여줍니다.

## 3. 전체 회원 목록 (All Members) 화면 설명

이 화면은 시스템에 등록된 모든 사용자(관리자, 일반 회원, 임대인, 임차인 등)의 목록을 관리자가 확인하고 관리할 수 있는 페이지입니다.

### 3.1. 주요 기능 및 사용자 경험

*   **전체 회원 목록 표시:** 회원의 ID, 이름, 이메일, 전화번호, 역할, 승인 여부, 신규 여부, 삭제 여부 등의 정보가 테이블 형태로 표시됩니다.
*   **데이터 테이블 기능:** `DataTables` 라이브러리를 사용하여 검색, 정렬, 페이지네이션 기능을 제공합니다.
*   **신규 회원 등록:** 테이블 하단의 '회원 등록' 버튼을 클릭하여 신규 회원 가입 페이지로 이동할 수 있습니다.
*   **상세 정보 조회 및 관리 모달:**
    *   각 회원 행 또는 "상세" 버튼을 클릭하면 해당 회원의 상세 정보를 담은 모달 창이 나타납니다.
    *   **정보 수정:** 전화번호, 역할, 승인 여부, 삭제 여부를 수정하고 "변경 사항 저장" 버튼으로 업데이트할 수 있습니다. (이름과 이메일은 읽기 전용)
    *   **회원 삭제:** "회원 삭제" 버튼을 통해 회원을 논리적으로 삭제 처리할 수 있습니다.
    *   **비밀번호 초기화:** "비밀번호 초기화" 버튼을 클릭하면 해당 회원의 비밀번호를 기본값('password')으로 초기화합니다.

### 3.2. 기술적 구현 (간략히)

*   **백엔드 (Java Spring Boot):**
    *   `MemberController`의 `getAllMembers()` 메서드가 모든 회원 목록을 조회하여 `admin/memberList.ftl` 템플릿으로 전달합니다.
    *   `MemberController`는 회원 관리를 위한 RESTful API 엔드포인트를 제공합니다.
        *   `GET /member/{id}`: 회원 상세 정보 조회
        *   `PUT /member/{id}`: 회원 정보 업데이트
        *   `POST /member/reject/{id}`: 회원 삭제 (논리적 삭제)
        *   `POST /member/reset-password/{id}`: 비밀번호 초기화
*   **프론트엔드 (FreeMarker, HTML, CSS, JavaScript):**
    *   `admin/memberList.ftl` 템플릿은 `common/layout.ftl`을 사용하여 공통 레이아웃을 구성합니다.
    *   FreeMarker의 `<#list>`를 사용하여 `members` 모델 데이터를 기반으로 테이블을 동적으로 생성합니다.
    *   JavaScript (jQuery 및 Fetch API)를 사용하여 다음을 수행합니다.
        *   "상세" 버튼 클릭 시 모달을 열고, `fetch`를 사용하여 `/admin/member/{id}` API를 호출하여 회원 상세 정보를 가져와 모달에 채웁니다.
        *   "변경 사항 저장", "회원 삭제", "비밀번호 초기화" 버튼 클릭 시 각각의 API 엔드포인트로 비동기 요청을 보내고, 성공 시 알림을 표시하고 페이지를 새로고침합니다.

### 3.3. 사용자 흐름

1.  관리자가 로그인 후 사이드바 메뉴에서 "All Members"를 클릭합니다.
2.  `MemberController`의 `getAllMembers()`가 호출되어 모든 회원 목록을 가져옵니다.
3.  `admin/memberList.ftl` 페이지가 렌더링되어 전체 회원 목록을 표시합니다.
4.  관리자가 신규 회원을 등록하려면 '회원 등록' 버튼을 클릭합니다.
5.  관리자가 특정 회원을 관리하기 위해 해당 행 또는 "상세" 버튼을 클릭합니다.
6.  JavaScript가 해당 회원의 ID로 상세 정보를 요청하고, 응답받은 데이터로 모달 창을 채워 표시합니다.
7.  관리자가 모달 내에서 정보를 수정하거나, 삭제 또는 비밀번호 초기화 버튼을 클릭합니다.
8.  JavaScript가 해당 기능에 맞는 API를 호출하여 요청을 처리하고, 성공 시 알림과 함께 페이지를 새로고침하여 변경된 내용을 반영합니다.